#!/usr/bin/env ruby

require 'thor'
require 'yaml'

require_relative '../installer/file_installer'
require_relative '../installer/zsh_installer'
require_relative '../installer/neovim_installer'
require_relative '../installer/homebrew_installer'
require_relative '../installer/one_off_command_installer.rb'
require_relative '../installer/rubies_installer.rb'
require_relative '../installer/php_installer.rb'

class Dotfiles < Thor
  desc 'Install the dotfiles', ''
  method_option 'fast', type: :boolean, default: false
  def install
    FileInstaller.new(options).install!
    OneOffCommandInstaller.new(options).install!
    HomeBrewInstaller.new(options).install! unless options['fast']
    RubiesInstaller.new(options).install! unless options['fast']
    PhpInstaller.new(options).install! unless options['fast']
    ZshInstaller.new(options).install!
    NeovimInstaller.new(options).install!
  end
end

Dotfiles.start(ARGV)
